!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(1)),r=a(o(2)),i=a(o(3)),l=a(o(4)),u=a(o(5)),p=o(6),c=a(p);function a(e){return e&&e.__esModule?e:{default:e}}var d=95,s=function(e){function t(){var e,o,i,u;(0,r.default)(this,t);for(var p=arguments.length,c=Array(p),a=0;a<p;a++)c[a]=arguments[a];return o=i=(0,l.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(c))),i.state={maxIndex:100},i.prevScrollTop=0,i.prevTopDivHeight=0,i.prevFootDivHeight=0,i.scrollHandler=function(e){var t=i.props,o=t.pageSize,n=t.maxRenderCount,r=i.state.maxIndex,l=document.documentElement.scrollTop||document.body.scrollTop,u=document.body.scrollHeight||document.documentElement.scrollHeight||document.documentElement.offsetHeight,p=document.documentElement.clientHeight||document.body.clientHeight,c=document.getElementById("tiny-list-top").offsetHeight,a=document.getElementById("tiny-list-foot").offsetHeight,s=Math.ceil(u/d);l>i.prevScrollTop?(console.log("向下"),a>0&&u-a-l<=p&&(console.log("快到footdiv了"),i.setState({maxIndex:r+o}),i.prevTopDivHeight=i.prevTopDivHeight+o*d,document.getElementById("topdiv").style.height=i.prevTopDivHeight+"px",i.prevFootDivHeight=i.prevFootDivHeight-o*d,document.getElementById("tiny-list-foot").style.height=i.prevFootDivHeight+"px",console.log(i.prevFootDivHeight,i.prevTopDivHeight,"down"))):(console.log("向上"),c>0&&l-c<=p&&(console.log("快到topdiv了"),i.setState({maxIndex:r-o}),i.prevTopDivHeight=i.prevTopDivHeight-o*d,document.getElementById("tiny-list-top").style.height=i.prevTopDivHeight+"px",i.prevFootDivHeight=i.prevFootDivHeight+o*d,document.getElementById("tiny-list-foot").style.height=i.prevFootDivHeight+"px",console.log(i.prevFootDivHeight,i.prevTopDivHeight,"up"))),i.prevScrollTop=l,l+p===u&&(console.log("滚动到底了"),s>=r?(i.props.onEndReached(),i.setState({maxIndex:r+o}),i.prevTopDivHeight=(r-n+o)*d,document.getElementById("tiny-list-top").style.height=i.prevTopDivHeight+"px"):i.props.onEndReached())},u=o,(0,l.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.scrollHandler)}},{key:"getListData",value:function(){var e=this.props,t=e.dataSource,o=e.maxRenderCount,n=this.state.maxIndex,r=[];console.log(n,"maxindex");for(var i=n-o;i<n;i++)t[i]&&r.push(t[i]);return console.log(r),r}},{key:"render",value:function(){var e=this.props,t=e.renderRow,o=e.maxRenderCount,n=e.renderFooter,r=this.state.maxIndex;return c.default.createElement("div",null,c.default.createElement("div",{id:"tiny-list-top"}),c.default.createElement("div",{className:"tiny-list-view"},this.getListData().map(function(e,n){return t(e,r-o+n)})),n(),c.default.createElement("div",{id:"tiny-list-foot"}))}}]),t}(p.Component);t.default=s},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("react")}]);