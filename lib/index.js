module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";var n,r=o(1),i=(n=r)&&n.__esModule?n:{default:n};e.exports=i.default},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=p(o(2)),r=p(o(3)),i=p(o(4)),l=p(o(5)),u=p(o(6)),c=o(7),d=p(c);function p(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.currentStyle?Number(e.currentStyle[t].replace("px","")):Number(document.defaultView.getComputedStyle(e,null)[t].replace("px",""))}var s=function(e){function t(){var e,o,i,u;(0,r.default)(this,t);for(var c=arguments.length,d=Array(c),p=0;p<c;p++)d[p]=arguments[p];return o=i=(0,l.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(d))),i.state={maxIndex:100},i.prevScrollTop=0,i.prevTopDivHeight=0,i.prevFootDivHeight=0,i.itemHeight=0,i.scrollHandler=function(){var e=i.props,t=e.pageSize,o=e.maxRenderCount,n=i.state.maxIndex,r=document.documentElement.scrollTop||document.body.scrollTop,l=document.body.scrollHeight||document.documentElement.scrollHeight||document.documentElement.offsetHeight,u=document.documentElement.clientHeight||document.body.clientHeight,c=document.getElementById("tiny-list-top").offsetHeight,d=document.getElementById("tiny-list-foot").offsetHeight,p=document.getElementsByClassName("tiny-list-view")[0].children[0];!i.itemHeight&&p&&(i.itemHeight=a(p,"marginTop")+a(p,"borderTopWidth")+a(p,"height")+a(p,"borderBottomWidth")+a(p,"marginBottom"));var s=i.itemHeight,m=Math.ceil(l/s);r>i.prevScrollTop?(console.log("向下"),d>0&&l-d-r<=u&&(console.log("快到footdiv了"),i.setState({maxIndex:n+t}),i.prevTopDivHeight=i.prevTopDivHeight+t*s,document.getElementById("tiny-list-top").style.height=i.prevTopDivHeight+"px",i.prevFootDivHeight=i.prevFootDivHeight-t*s,document.getElementById("tiny-list-foot").style.height=i.prevFootDivHeight+"px",console.log(i.prevFootDivHeight,i.prevTopDivHeight,"down"))):(console.log("向上"),c>0&&r-c<=u&&(console.log("快到topdiv了"),i.setState({maxIndex:n-t}),i.prevTopDivHeight=i.prevTopDivHeight-t*s,document.getElementById("tiny-list-top").style.height=i.prevTopDivHeight+"px",i.prevFootDivHeight=i.prevFootDivHeight+t*s,document.getElementById("tiny-list-foot").style.height=i.prevFootDivHeight+"px",console.log(i.prevFootDivHeight,i.prevTopDivHeight,"up"))),i.prevScrollTop=r,r+u===l&&(console.log("滚动到底了"),m>=n?(i.props.onEndReached(),i.setState({maxIndex:n+t}),i.prevTopDivHeight=(n-o+t)*s,document.getElementById("tiny-list-top").style.height=i.prevTopDivHeight+"px"):i.props.onEndReached())},u=o,(0,l.default)(i,u)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.scrollHandler)}},{key:"getListData",value:function(){var e=this.props,t=e.dataSource,o=e.maxRenderCount,n=this.state.maxIndex,r=[];console.log(n,"maxindex");for(var i=n-o;i<n;i++)t[i]&&r.push(t[i]);return console.log(r),r}},{key:"render",value:function(){var e=this.props,t=e.renderRow,o=e.maxRenderCount,n=e.renderFooter,r=this.state.maxIndex;return d.default.createElement("div",null,d.default.createElement("div",{id:"tiny-list-top"}),d.default.createElement("div",{className:"tiny-list-view"},this.getListData().map(function(e,n){return t(e,r-o+n)})),n(),d.default.createElement("div",{id:"tiny-list-foot"}))}}]),t}(c.Component);t.default=s},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("react")}]);